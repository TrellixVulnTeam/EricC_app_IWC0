{% extends 'base.html' %}

{% block title %}
Eqn Search
{% endblock %}

{% block page_title %}
Equation Search
{% endblock %}

{% block content %}

{% include 'js/js_start.html' %}
	{% include 'dbs/search.js' %}
{% include 'js/js_end.html' %}

<div class="spacer"></div>
<div class="section_box">
	<div class="sec_titl">
		Search Equation Database
	</div>
	<div class="spacer"></div>
	<div>
		<span>
			<input class="search_field" id="search_field" type="text" name="search_field" placeholder="Type here..." onkeyup="update_field(); search_results()">
		</span>
		<span>
			<button onclick="clear_search()" class="clear_btn">
				Clear
			</button>
		</span>
	</div>
	<div class="spacer"></div>
	<div class="search_results">You can narrow down the search by: typing the name of the law or equation, typing </div>
	<div class="spacer"></div>
		<div class="search_results" id="search_results">
			<div class="result_wrapper" id="result_wrapper">
				<script type="text/javascript">
					var data = JSON.parse("{{data|escapejs}}");
					let displayed_data = data;
					for (let i = 0; i < data.length; i++) {
						document.getElementById('result_wrapper').innerHTML += ''
						+ '<div class="result_box">'
						+ '<div>'
						+ '<span class="result_id">' + data[i]['id'] + '</span>'
						+ '<span class="result_name">' + data[i]['name'] + '</span>'
						+ '</div>'
						+ '<div class="result_eqn">$ ' + data[i]['eqn'] + ' $</div>'
						+ '<div>' + 'similarity: ' + data[i]['similarity'] + '</div>'
						+ '<div class="result_view">' + '<a class="view_link">view</a>' + '</div>'
						+ '</div>';
					}
				</script>
			</div>
		</div>
	</div>
</div>
<div class="spacer"></div>

{% endblock %}